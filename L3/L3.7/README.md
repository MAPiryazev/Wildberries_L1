# L3.7

REST API для управления складским учетом с отслеживанием истории изменений на уровне базы данных.

---

## Установка и запуск

### 1. Склонировать репозиторий
```bash
git clone https://github.com/MAPiryazev/Wildberries_L1
cd Wildberries_L1/L3/L3.7
```

### 2. Запуск приложения

```bash
docker compose up -d --build
```

#### Локальный запуск
```bash
make run
```

web интерфейс будет по адресу:  
http://localhost:8080

---

## Обзор

Inventory Management System — это REST API сервис для управления товарами на складе с аудитом всех изменений.  
Каждое создание, обновление или удаление товара автоматически логируется на уровне базы данных с помощью PostgreSQL триггеров.

---

### Слои приложения

1. **Handler**
   - Обработка HTTP запросов
   - Валидация входных данных
   - Формирование HTTP ответов

2. **Service**
   - Бизнес-логика
   - Проверки и правила домена

3. **Repository**
   - Доступ к данным
   - Работа с PostgreSQL через `wbf/dbpg`

---

## Отслеживание истории (Database Layer)

## Используемый фреймворк

Проект построен на внутреннем фреймворке Wildberries (`wbf`):

- `wb-go/wbf/dbpg`
  - PostgreSQL master/slave
  - Connection pooling

- `wb-go/wbf/config`
  - Управление конфигурацией

- `wb-go/wbf/zlog`
  - Структурированное логирование

---

## Обработка ошибок

- Проверка типов через `errors.Is`
- Wrapping ошибок с контекстом (`fmt.Errorf`)
- Централизованное логирование через `zlog`

---
